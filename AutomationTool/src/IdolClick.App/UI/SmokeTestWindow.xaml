<Window x:Class="IdolClick.UI.SmokeTestWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="&#x1F9EA; Smoke Tests &#x2014; IdolClick" 
        Height="720" Width="1050"
        MinHeight="500" MinWidth="800"
        Background="{StaticResource BackgroundBrush}"
        WindowStartupLocation="CenterOwner"
        Icon="/Assets/idol-click.png">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" MinHeight="150"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" MinHeight="120"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <Border Grid.Row="0" Background="{StaticResource CardBrush}" CornerRadius="6" Padding="12,8" Margin="0,0,0,4">
            <Grid>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="RunAllBtn" Content="&#x25B6;  Run All" 
                            Style="{StaticResource SmallPrimaryButton}" 
                            Click="RunAll_Click" Padding="12,6" FontSize="12"/>
                    <Button x:Name="RunSelectedBtn" Content="&#x25B6;  Run Selected" 
                            Style="{StaticResource SmallButton}" 
                            Click="RunSelected_Click" Padding="12,6" FontSize="12" Margin="6,0,0,0"/>
                    <Button x:Name="StopBtn" Content="&#x23F9;  Stop" 
                            Style="{StaticResource SmallDangerButton}" 
                            Click="Stop_Click" Padding="12,6" FontSize="12" Margin="6,0,0,0"
                            IsEnabled="False"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock x:Name="SummaryText" Text="15 tests ready" 
                               FontSize="12" Foreground="{StaticResource TextSecondaryBrush}" 
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Selection / Filter Bar -->
        <Border Grid.Row="1" Background="{StaticResource CardBrush}" CornerRadius="6" Padding="10,6" Margin="0,0,0,8">
            <Grid>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Select:" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" 
                               VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <Button Content="All" Style="{StaticResource SmallButton}" Click="SelectAll_Click" 
                            Padding="8,3" FontSize="11"/>
                    <Button Content="None" Style="{StaticResource SmallButton}" Click="SelectNone_Click" 
                            Padding="8,3" FontSize="11" Margin="4,0,0,0"/>
                    <Border Width="1" Background="{StaticResource BorderBrush}" Margin="10,2"/>
                    <TextBlock Text="Filter:" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" 
                               VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <Button x:Name="FilterSimpleBtn" Content="&#x1F7E2; Simple" Style="{StaticResource SmallButton}" 
                            Click="FilterSimple_Click" Padding="8,3" FontSize="11"/>
                    <Button x:Name="FilterMediumBtn" Content="&#x1F7E1; Medium" Style="{StaticResource SmallButton}" 
                            Click="FilterMedium_Click" Padding="8,3" FontSize="11" Margin="4,0,0,0"/>
                    <Button x:Name="FilterComplexBtn" Content="&#x1F534; Complex" Style="{StaticResource SmallButton}" 
                            Click="FilterComplex_Click" Padding="8,3" FontSize="11" Margin="4,0,0,0"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock x:Name="SelectionText" Text="" FontSize="11" 
                               Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Test List -->
        <Border Grid.Row="2" Background="{StaticResource SurfaceBrush}" CornerRadius="6">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Background="{StaticResource CardBrush}" CornerRadius="6,6,0,0" Padding="12,6">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="52"/>
                            <ColumnDefinition Width="58"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="70"/>
                            <ColumnDefinition Width="220"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="&#x2713;" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}" HorizontalAlignment="Center"/>
                        <TextBlock Grid.Column="1" Text="" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Column="2" Text="ID" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Column="3" Text="Level" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Column="4" Text="Test Name" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Column="5" Text="Time" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}" TextAlignment="Right"/>
                        <TextBlock Grid.Column="6" Text="Verifications" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextSecondaryBrush}" Margin="12,0,0,0"/>
                    </Grid>
                </Border>

                <ListView x:Name="TestListView" Grid.Row="1" BorderThickness="0" 
                          Background="{StaticResource SurfaceBrush}"
                          Foreground="{StaticResource TextBrush}"
                          FontSize="12" SelectionMode="Single"
                          SelectionChanged="TestListView_SelectionChanged">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Padding" Value="12,6"/>
                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="24"/>
                                    <ColumnDefinition Width="26"/>
                                    <ColumnDefinition Width="48"/>
                                    <ColumnDefinition Width="56"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="220"/>
                                </Grid.ColumnDefinitions>
                                <CheckBox Grid.Column="0" IsChecked="{Binding IsSelected}" 
                                          VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                <TextBlock Grid.Column="1" Text="{Binding StatusIcon}" FontSize="14" VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" Text="{Binding Id}" FontSize="11" 
                                           Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                                <Border Grid.Column="3" Background="{Binding DifficultyBackground}" 
                                        CornerRadius="3" Padding="4,1" VerticalAlignment="Center" HorizontalAlignment="Left">
                                    <TextBlock Text="{Binding DifficultyLabel}" FontSize="9" FontWeight="SemiBold" 
                                               Foreground="{Binding DifficultyForeground}"/>
                                </Border>
                                <StackPanel Grid.Column="4" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="12"/>
                                    <TextBlock Text="{Binding Description}" FontSize="10" 
                                               Foreground="{StaticResource TextSecondaryBrush}" 
                                               TextTrimming="CharacterEllipsis"/>
                                </StackPanel>
                                <TextBlock Grid.Column="5" Text="{Binding ElapsedText}" FontSize="11" 
                                           Foreground="{StaticResource TextSecondaryBrush}" 
                                           VerticalAlignment="Center" TextAlignment="Right"/>
                                <TextBlock Grid.Column="6" Text="{Binding VerificationSummary}" FontSize="10" 
                                           Foreground="{StaticResource TextSecondaryBrush}" 
                                           VerticalAlignment="Center" TextWrapping="Wrap" Margin="12,0,0,0"/>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Border>

        <!-- Splitter -->
        <GridSplitter Grid.Row="3" Height="5" HorizontalAlignment="Stretch" 
                      VerticalAlignment="Center" Background="Transparent" Cursor="SizeNS"/>

        <!-- Log Output -->
        <Border Grid.Row="4" Background="{StaticResource SurfaceBrush}" CornerRadius="6" Margin="0,4,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Background="{StaticResource CardBrush}" CornerRadius="6,6,0,0" Padding="12,6">
                    <Grid>
                        <TextBlock Text="Execution Log" FontSize="11" FontWeight="SemiBold" 
                                   Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="&#x1F4BE; Save" Style="{StaticResource SmallButton}" 
                                    Click="SaveLog_Click" Margin="0,0,4,0"/>
                            <Button Content="&#x1F4CB; Copy" Style="{StaticResource SmallButton}" 
                                    Click="CopyLog_Click" Margin="0,0,4,0"/>
                            <Button Content="Clear" Style="{StaticResource SmallButton}" 
                                    Click="ClearLog_Click"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <TextBox x:Name="LogOutput" Grid.Row="1" 
                         IsReadOnly="True" 
                         TextWrapping="Wrap"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Disabled"
                         FontFamily="{StaticResource MonoFont}" FontSize="{StaticResource FontSizeCaption}"
                         Background="{StaticResource SurfaceBrush}"
                         Foreground="{StaticResource TextBrush}"
                         BorderThickness="0" Padding="8,4"
                         AcceptsReturn="True"/>
            </Grid>
        </Border>
    </Grid>
</Window>